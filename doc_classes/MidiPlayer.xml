<?xml version="1.0" encoding="UTF-8" ?>
<class name="MidiPlayer" inherits="Node" version="4.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="https://raw.githubusercontent.com/godotengine/godot/master/doc/class.xsd">
	<brief_description>
		A MIDI file player node that synthesizes audio using SoundFont instruments.
	</brief_description>
	<description>
		[MidiPlayer] loads and plays MIDI files using CPU-based SoundFont synthesis (via TinySoundFont). It provides real-time audio output, playback control, and manual note playback for previewing instruments.

		General MIDI constants are provided for program (instrument) numbers, MIDI note numbers, and the GM drum map. Instrument program numbers are 0-based (GM program #1 = 0). Note numbering follows the GM convention where [constant NOTE_C5] (middle C) is 60.

		Example usage:
		[codeblock]
		var player = MidiPlayer.new()
		player.set_soundfont(soundfont_resource)
		player.set_midi(midi_resource)
		player.play()
		add_child(player)
		[/codeblock]
	</description>
	<tutorials>
	</tutorials>
	<methods>
		<method name="set_soundfont">
			<return type="void" />
			<param index="0" name="resource" type="SoundFontResource" />
			<description>
				Sets the SoundFont resource used for synthesis. If the resource contains data, it is loaded immediately.
			</description>
		</method>
		<method name="get_soundfont">
			<return type="SoundFontResource" />
			<description>
				Returns the current SoundFont resource.
			</description>
		</method>
		<method name="set_midi">
			<return type="void" />
			<param index="0" name="resource" type="MidiFileResource" />
			<description>
				Sets the MIDI resource to play. If the resource contains data, it is loaded immediately.
			</description>
		</method>
		<method name="get_midi">
			<return type="MidiFileResource" />
			<description>
				Returns the current MIDI resource.
			</description>
		</method>
		<method name="set_loop">
			<return type="void" />
			<param index="0" name="loop" type="bool" />
			<description>
				Enables or disables looping when the track finishes.
			</description>
		</method>
		<method name="get_loop">
			<return type="bool" />
			<description>
				Returns whether looping is enabled.
			</description>
		</method>
		<method name="set_looping">
			<return type="void" />
			<param index="0" name="looping" type="bool" />
			<description>
				Alias for [method set_loop].
			</description>
		</method>
		<method name="is_looping">
			<return type="bool" />
			<description>
				Alias for [method get_loop].
			</description>
		</method>
		<method name="set_midi_speed">
			<return type="void" />
			<param index="0" name="speed" type="float" />
			<description>
				Sets the playback speed multiplier. Values greater than 1.0 speed up playback; values less than 1.0 slow it down.
			</description>
		</method>
		<method name="get_midi_speed">
			<return type="float" />
			<description>
				Returns the playback speed multiplier.
			</description>
		</method>
		<method name="set_volume">
			<return type="void" />
			<param index="0" name="volume" type="float" />
			<description>
				Sets the master volume as linear gain (1.0 = normal volume).
			</description>
		</method>
		<method name="get_volume">
			<return type="float" />
			<description>
				Returns the master volume as linear gain.
			</description>
		</method>
		<method name="set_generator_buffer_length">
			<return type="void" />
			<param index="0" name="seconds" type="float" />
			<description>
				Sets the audio generator buffer length in seconds.
			</description>
		</method>
		<method name="get_generator_buffer_length">
			<return type="float" />
			<description>
				Returns the audio generator buffer length in seconds.
			</description>
		</method>
		<method name="set_audio_bus">
			<return type="void" />
			<param index="0" name="bus" type="StringName" />
			<description>
				Sets the audio bus used for MIDI playback.
			</description>
		</method>
		<method name="get_audio_bus">
			<return type="StringName" />
			<description>
				Returns the audio bus used for MIDI playback.
			</description>
		</method>
		<method name="set_use_separate_notes_bus">
			<return type="void" />
			<param index="0" name="enable" type="bool" />
			<description>
				If enabled, manual notes (played via [method note_on]) are rendered through a separate audio bus.
			</description>
		</method>
		<method name="get_use_separate_notes_bus">
			<return type="bool" />
			<description>
				Returns whether manual notes are rendered through a separate audio bus.
			</description>
		</method>
		<method name="set_notes_audio_bus">
			<return type="void" />
			<param index="0" name="bus" type="StringName" />
			<description>
				Sets the audio bus for manual notes when [method set_use_separate_notes_bus] is enabled.
			</description>
		</method>
		<method name="get_notes_audio_bus">
			<return type="StringName" />
			<description>
				Returns the audio bus for manual notes.
			</description>
		</method>
		<method name="load_soundfont">
			<return type="bool" />
			<param index="0" name="path" type="String" />
			<description>
				Loads a SoundFont file from disk. Returns [code]true[/code] on success.
			</description>
		</method>
		<method name="load_midi">
			<return type="bool" />
			<param index="0" name="path" type="String" />
			<description>
				Loads a MIDI file from disk. Returns [code]true[/code] on success.
			</description>
		</method>
		<method name="play">
			<return type="void" />
			<description>
				Starts playback from the beginning.
			</description>
		</method>
		<method name="stop">
			<return type="void" />
			<description>
				Stops playback and resets the playback position.
			</description>
		</method>
		<method name="pause">
			<return type="void" />
			<description>
				Pauses playback. Call [method resume] to continue.
			</description>
		</method>
		<method name="resume">
			<return type="void" />
			<description>
				Resumes playback from a paused state.
			</description>
		</method>
		<method name="is_playing">
			<return type="bool" />
			<description>
				Returns [code]true[/code] if playback is active and not paused.
			</description>
		</method>
		<method name="note_on">
			<return type="void" />
			<param index="0" name="preset_index" type="int" />
			<param index="1" name="key" type="int" />
			<param index="2" name="velocity" type="float" />
			<description>
				Plays a manual note using the SoundFont. [param preset_index] is the GM program number (0-based), [param key] is the MIDI note number, and [param velocity] is a 0.0â€“1.0 linear velocity.
			</description>
		</method>
		<method name="note_off">
			<return type="void" />
			<param index="0" name="preset_index" type="int" />
			<param index="1" name="key" type="int" />
			<description>
				Stops a manual note started with [method note_on].
			</description>
		</method>
		<method name="note_off_all">
			<return type="void" />
			<description>
				Stops all currently playing manual notes.
			</description>
		</method>
		<method name="get_length_seconds">
			<return type="float" />
			<description>
				Returns the length of the loaded MIDI in seconds (0 if none loaded).
			</description>
		</method>
		<method name="get_playback_position_seconds">
			<return type="float" />
			<description>
				Returns the current playback position in seconds.
			</description>
		</method>
	</methods>
	<signals>
	</signals>
	<constants>
		<constant name="GM_ACOUSTIC_GRAND_PIANO" value="0" />
		<constant name="GM_BRIGHT_PIANO" value="1" />
		<constant name="GM_ELECTRIC_GRAND_PIANO" value="2" />
		<constant name="GM_HONKY_TONK_PIANO" value="3" />
		<constant name="GM_ELECTRIC_PIANO_1" value="4" />
		<constant name="GM_ELECTRIC_PIANO_2" value="5" />
		<constant name="GM_HARPSICHORD" value="6" />
		<constant name="GM_CLAV" value="7" />
		<constant name="GM_CELESTA" value="8" />
		<constant name="GM_GLOCKENSPIEL" value="9" />
		<constant name="GM_MUSIC_BOX" value="10" />
		<constant name="GM_VIBRAPHONE" value="11" />
		<constant name="GM_MARIMBA" value="12" />
		<constant name="GM_XYLOPHONE" value="13" />
		<constant name="GM_TUBULAR_BELLS" value="14" />
		<constant name="GM_DULCIMER" value="15" />
		<constant name="GM_DRAWBAR_ORGAN" value="16" />
		<constant name="GM_PERCUSSIVE_ORGAN" value="17" />
		<constant name="GM_ROCK_ORGAN" value="18" />
		<constant name="GM_CHURCH_ORGAN" value="19" />
		<constant name="GM_REED_ORGAN" value="20" />
		<constant name="GM_ACCORDION" value="21" />
		<constant name="GM_HARMONICA" value="22" />
		<constant name="GM_TANGO_ACCORDION" value="23" />
		<constant name="GM_NYLON_STRING_GUITAR" value="24" />
		<constant name="GM_STEEL_STRING_GUITAR" value="25" />
		<constant name="GM_JAZZ_GUITAR" value="26" />
		<constant name="GM_CLEAN_ELECTRIC_GUITAR" value="27" />
		<constant name="GM_MUTED_ELECTRIC_GUITAR" value="28" />
		<constant name="GM_OVERDRIVE_GUITAR" value="29" />
		<constant name="GM_DISTORTION_GUITAR" value="30" />
		<constant name="GM_GUITAR_HARMONICS" value="31" />
		<constant name="GM_ACOUSTIC_BASS" value="32" />
		<constant name="GM_FINGERED_BASS" value="33" />
		<constant name="GM_PICKED_BASS" value="34" />
		<constant name="GM_FRETLESS_BASS" value="35" />
		<constant name="GM_SLAP_BASS_1" value="36" />
		<constant name="GM_SLAP_BASS_2" value="37" />
		<constant name="GM_SYNTH_BASS_1" value="38" />
		<constant name="GM_SYNTH_BASS_2" value="39" />
		<constant name="GM_VIOLIN" value="40" />
		<constant name="GM_VIOLA" value="41" />
		<constant name="GM_CELLO" value="42" />
		<constant name="GM_CONTRABASS" value="43" />
		<constant name="GM_TREMOLO_STRINGS" value="44" />
		<constant name="GM_PIZZICATO_STRINGS" value="45" />
		<constant name="GM_ORCHESTRAL_HARP" value="46" />
		<constant name="GM_TIMPANI" value="47" />
		<constant name="GM_STRING_ENSEMBLE_1" value="48" />
		<constant name="GM_STRING_ENSEMBLE_2" value="49" />
		<constant name="GM_SYNTH_STRINGS_1" value="50" />
		<constant name="GM_SYNTH_STRINGS_2" value="51" />
		<constant name="GM_CHOIR_AAHS" value="52" />
		<constant name="GM_CHOIR_OOHS" value="53" />
		<constant name="GM_SYNTH_VOICE" value="54" />
		<constant name="GM_ORCHESTRAL_HIT" value="55" />
		<constant name="GM_TRUMPET" value="56" />
		<constant name="GM_TROMBONE" value="57" />
		<constant name="GM_TUBA" value="58" />
		<constant name="GM_MUTED_TRUMPET" value="59" />
		<constant name="GM_FRENCH_HORN" value="60" />
		<constant name="GM_BRASS_SECTION" value="61" />
		<constant name="GM_SYNTH_BRASS_1" value="62" />
		<constant name="GM_SYNTH_BRASS_2" value="63" />
		<constant name="GM_SOPRANO_SAX" value="64" />
		<constant name="GM_ALTO_SAX" value="65" />
		<constant name="GM_TENOR_SAX" value="66" />
		<constant name="GM_BARITONE_SAX" value="67" />
		<constant name="GM_OBOE" value="68" />
		<constant name="GM_ENGLISH_HORN" value="69" />
		<constant name="GM_BASSOON" value="70" />
		<constant name="GM_CLARINET" value="71" />
		<constant name="GM_PICCOLO" value="72" />
		<constant name="GM_FLUTE" value="73" />
		<constant name="GM_RECORDER" value="74" />
		<constant name="GM_PAN_FLUTE" value="75" />
		<constant name="GM_BLOWN_BOTTLE" value="76" />
		<constant name="GM_SHAKUHACHI" value="77" />
		<constant name="GM_WHISTLE" value="78" />
		<constant name="GM_OCARINA" value="79" />
		<constant name="GM_SQUARE_WAVE" value="80" />
		<constant name="GM_SAWTOOTH_WAVE" value="81" />
		<constant name="GM_CALLIOPE" value="82" />
		<constant name="GM_CHIFF" value="83" />
		<constant name="GM_CHARANG" value="84" />
		<constant name="GM_VOICE" value="85" />
		<constant name="GM_FIFTHS" value="86" />
		<constant name="GM_BASS_AND_LEAD" value="87" />
		<constant name="GM_NEW_AGE" value="88" />
		<constant name="GM_WARM" value="89" />
		<constant name="GM_POLYSYNTH" value="90" />
		<constant name="GM_CHOIR" value="91" />
		<constant name="GM_BOWED" value="92" />
		<constant name="GM_METALLIC" value="93" />
		<constant name="GM_HALO" value="94" />
		<constant name="GM_SWEEP" value="95" />
		<constant name="GM_FX_RAIN" value="96" />
		<constant name="GM_FX_SOUNDTRACK" value="97" />
		<constant name="GM_FX_CRYSTAL" value="98" />
		<constant name="GM_FX_ATMOSPHERE" value="99" />
		<constant name="GM_FX_BRIGHTNESS" value="100" />
		<constant name="GM_FX_GOBLINS" value="101" />
		<constant name="GM_FX_ECHO_DROPS" value="102" />
		<constant name="GM_FX_STAR_THEME" value="103" />
		<constant name="GM_SITAR" value="104" />
		<constant name="GM_BANJO" value="105" />
		<constant name="GM_SHAMISEN" value="106" />
		<constant name="GM_KOTO" value="107" />
		<constant name="GM_KALIMBA" value="108" />
		<constant name="GM_BAGPIPE" value="109" />
		<constant name="GM_FIDDLE" value="110" />
		<constant name="GM_SHANAI" value="111" />
		<constant name="GM_TINKLE_BELL" value="112" />
		<constant name="GM_AGOGO" value="113" />
		<constant name="GM_STEEL_DRUMS" value="114" />
		<constant name="GM_WOODBLOCK" value="115" />
		<constant name="GM_TAIKO_DRUM" value="116" />
		<constant name="GM_MELODIC_TOM" value="117" />
		<constant name="GM_SYNTH_DRUM" value="118" />
		<constant name="GM_REVERSE_CYMBAL" value="119" />
		<constant name="GM_GUITAR_FRET_NOISE" value="120" />
		<constant name="GM_BREATH_NOISE" value="121" />
		<constant name="GM_SEASHORE" value="122" />
		<constant name="GM_BIRD_TWEET" value="123" />
		<constant name="GM_TELEPHONE_RING" value="124" />
		<constant name="GM_HELICOPTER" value="125" />
		<constant name="GM_APPLAUSE" value="126" />
		<constant name="GM_GUNSHOT" value="127" />
		<constant name="NOTE_C0" value="0" />
		<constant name="NOTE_CS0" value="1" />
		<constant name="NOTE_D0" value="2" />
		<constant name="NOTE_DS0" value="3" />
		<constant name="NOTE_E0" value="4" />
		<constant name="NOTE_F0" value="5" />
		<constant name="NOTE_FS0" value="6" />
		<constant name="NOTE_G0" value="7" />
		<constant name="NOTE_GS0" value="8" />
		<constant name="NOTE_A0" value="9" />
		<constant name="NOTE_AS0" value="10" />
		<constant name="NOTE_B0" value="11" />
		<constant name="NOTE_C1" value="12" />
		<constant name="NOTE_CS1" value="13" />
		<constant name="NOTE_D1" value="14" />
		<constant name="NOTE_DS1" value="15" />
		<constant name="NOTE_E1" value="16" />
		<constant name="NOTE_F1" value="17" />
		<constant name="NOTE_FS1" value="18" />
		<constant name="NOTE_G1" value="19" />
		<constant name="NOTE_GS1" value="20" />
		<constant name="NOTE_A1" value="21" />
		<constant name="NOTE_AS1" value="22" />
		<constant name="NOTE_B1" value="23" />
		<constant name="NOTE_C2" value="24" />
		<constant name="NOTE_CS2" value="25" />
		<constant name="NOTE_D2" value="26" />
		<constant name="NOTE_DS2" value="27" />
		<constant name="NOTE_E2" value="28" />
		<constant name="NOTE_F2" value="29" />
		<constant name="NOTE_FS2" value="30" />
		<constant name="NOTE_G2" value="31" />
		<constant name="NOTE_GS2" value="32" />
		<constant name="NOTE_A2" value="33" />
		<constant name="NOTE_AS2" value="34" />
		<constant name="NOTE_B2" value="35" />
		<constant name="NOTE_C3" value="36" />
		<constant name="NOTE_CS3" value="37" />
		<constant name="NOTE_D3" value="38" />
		<constant name="NOTE_DS3" value="39" />
		<constant name="NOTE_E3" value="40" />
		<constant name="NOTE_F3" value="41" />
		<constant name="NOTE_FS3" value="42" />
		<constant name="NOTE_G3" value="43" />
		<constant name="NOTE_GS3" value="44" />
		<constant name="NOTE_A3" value="45" />
		<constant name="NOTE_AS3" value="46" />
		<constant name="NOTE_B3" value="47" />
		<constant name="NOTE_C4" value="48" />
		<constant name="NOTE_CS4" value="49" />
		<constant name="NOTE_D4" value="50" />
		<constant name="NOTE_DS4" value="51" />
		<constant name="NOTE_E4" value="52" />
		<constant name="NOTE_F4" value="53" />
		<constant name="NOTE_FS4" value="54" />
		<constant name="NOTE_G4" value="55" />
		<constant name="NOTE_GS4" value="56" />
		<constant name="NOTE_A4" value="57" />
		<constant name="NOTE_AS4" value="58" />
		<constant name="NOTE_B4" value="59" />
		<constant name="NOTE_C5" value="60" />
		<constant name="NOTE_CS5" value="61" />
		<constant name="NOTE_D5" value="62" />
		<constant name="NOTE_DS5" value="63" />
		<constant name="NOTE_E5" value="64" />
		<constant name="NOTE_F5" value="65" />
		<constant name="NOTE_FS5" value="66" />
		<constant name="NOTE_G5" value="67" />
		<constant name="NOTE_GS5" value="68" />
		<constant name="NOTE_A5" value="69" />
		<constant name="NOTE_AS5" value="70" />
		<constant name="NOTE_B5" value="71" />
		<constant name="NOTE_C6" value="72" />
		<constant name="NOTE_CS6" value="73" />
		<constant name="NOTE_D6" value="74" />
		<constant name="NOTE_DS6" value="75" />
		<constant name="NOTE_E6" value="76" />
		<constant name="NOTE_F6" value="77" />
		<constant name="NOTE_FS6" value="78" />
		<constant name="NOTE_G6" value="79" />
		<constant name="NOTE_GS6" value="80" />
		<constant name="NOTE_A6" value="81" />
		<constant name="NOTE_AS6" value="82" />
		<constant name="NOTE_B6" value="83" />
		<constant name="NOTE_C7" value="84" />
		<constant name="NOTE_CS7" value="85" />
		<constant name="NOTE_D7" value="86" />
		<constant name="NOTE_DS7" value="87" />
		<constant name="NOTE_E7" value="88" />
		<constant name="NOTE_F7" value="89" />
		<constant name="NOTE_FS7" value="90" />
		<constant name="NOTE_G7" value="91" />
		<constant name="NOTE_GS7" value="92" />
		<constant name="NOTE_A7" value="93" />
		<constant name="NOTE_AS7" value="94" />
		<constant name="NOTE_B7" value="95" />
		<constant name="NOTE_C8" value="96" />
		<constant name="NOTE_CS8" value="97" />
		<constant name="NOTE_D8" value="98" />
		<constant name="NOTE_DS8" value="99" />
		<constant name="NOTE_E8" value="100" />
		<constant name="NOTE_F8" value="101" />
		<constant name="NOTE_FS8" value="102" />
		<constant name="NOTE_G8" value="103" />
		<constant name="NOTE_GS8" value="104" />
		<constant name="NOTE_A8" value="105" />
		<constant name="NOTE_AS8" value="106" />
		<constant name="NOTE_B8" value="107" />
		<constant name="NOTE_C9" value="108" />
		<constant name="NOTE_CS9" value="109" />
		<constant name="NOTE_D9" value="110" />
		<constant name="NOTE_DS9" value="111" />
		<constant name="NOTE_E9" value="112" />
		<constant name="NOTE_F9" value="113" />
		<constant name="NOTE_FS9" value="114" />
		<constant name="NOTE_G9" value="115" />
		<constant name="NOTE_GS9" value="116" />
		<constant name="NOTE_A9" value="117" />
		<constant name="NOTE_AS9" value="118" />
		<constant name="NOTE_B9" value="119" />
		<constant name="NOTE_C10" value="120" />
		<constant name="NOTE_CS10" value="121" />
		<constant name="NOTE_D10" value="122" />
		<constant name="NOTE_DS10" value="123" />
		<constant name="NOTE_E10" value="124" />
		<constant name="NOTE_F10" value="125" />
		<constant name="NOTE_FS10" value="126" />
		<constant name="NOTE_G10" value="127" />
		<constant name="DRUM_ACOUSTIC_BASS_DRUM" value="35" />
		<constant name="DRUM_BASS_DRUM_1" value="36" />
		<constant name="DRUM_SIDE_STICK" value="37" />
		<constant name="DRUM_ACOUSTIC_SNARE" value="38" />
		<constant name="DRUM_HAND_CLAP" value="39" />
		<constant name="DRUM_ELECTRIC_SNARE" value="40" />
		<constant name="DRUM_LOW_FLOOR_TOM" value="41" />
		<constant name="DRUM_CLOSED_HI_HAT" value="42" />
		<constant name="DRUM_HIGH_FLOOR_TOM" value="43" />
		<constant name="DRUM_PEDAL_HI_HAT" value="44" />
		<constant name="DRUM_LOW_TOM" value="45" />
		<constant name="DRUM_OPEN_HI_HAT" value="46" />
		<constant name="DRUM_LOW_MID_TOM" value="47" />
		<constant name="DRUM_HI_MID_TOM" value="48" />
		<constant name="DRUM_CRASH_CYMBAL_1" value="49" />
		<constant name="DRUM_HIGH_TOM" value="50" />
		<constant name="DRUM_RIDE_CYMBAL_1" value="51" />
		<constant name="DRUM_CHINESE_CYMBAL" value="52" />
		<constant name="DRUM_RIDE_BELL" value="53" />
		<constant name="DRUM_TAMBOURINE" value="54" />
		<constant name="DRUM_SPLASH_CYMBAL" value="55" />
		<constant name="DRUM_COWBELL" value="56" />
		<constant name="DRUM_CRASH_CYMBAL_2" value="57" />
		<constant name="DRUM_VIBRASLAP" value="58" />
		<constant name="DRUM_RIDE_CYMBAL_2" value="59" />
		<constant name="DRUM_HI_BONGO" value="60" />
		<constant name="DRUM_LOW_BONGO" value="61" />
		<constant name="DRUM_MUTE_HI_CONGA" value="62" />
		<constant name="DRUM_OPEN_HI_CONGA" value="63" />
		<constant name="DRUM_LOW_CONGA" value="64" />
		<constant name="DRUM_HIGH_TIMBALE" value="65" />
		<constant name="DRUM_LOW_TIMBALE" value="66" />
		<constant name="DRUM_HIGH_AGOGO" value="67" />
		<constant name="DRUM_LOW_AGOGO" value="68" />
		<constant name="DRUM_CABASA" value="69" />
		<constant name="DRUM_MARACAS" value="70" />
		<constant name="DRUM_SHORT_WHISTLE" value="71" />
		<constant name="DRUM_LONG_WHISTLE" value="72" />
		<constant name="DRUM_SHORT_GUIRO" value="73" />
		<constant name="DRUM_LONG_GUIRO" value="74" />
		<constant name="DRUM_CLAVES" value="75" />
		<constant name="DRUM_HI_WOOD_BLOCK" value="76" />
		<constant name="DRUM_LOW_WOOD_BLOCK" value="77" />
		<constant name="DRUM_MUTE_CUICA" value="78" />
		<constant name="DRUM_OPEN_CUICA" value="79" />
		<constant name="DRUM_MUTE_TRIANGLE" value="80" />
		<constant name="DRUM_OPEN_TRIANGLE" value="81" />
		<constant name="DRUM_SHAKER" value="82" />
	</constants>
</class>
